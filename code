  @PostConstruct
    public void init() {
        Runtime.getRuntime().addShutdownHook(new Thread(() -> {
            log.info("正在停止监控服务...");
            this.stop();
        }));
    }



public void stop() {
        running = false;
        if (scheduler != null && !scheduler.isShutdown()) {
            scheduler.shutdown();
            try {
                if (!scheduler.awaitTermination(5, TimeUnit.SECONDS)) {
                    scheduler.shutdownNow();
                }
            } catch (InterruptedException e) {
                log.warn("等待线程池关闭时被中断");
                scheduler.shutdownNow();
                Thread.currentThread().interrupt();
            }
            log.info("监控服务已停止");
        }
    }



